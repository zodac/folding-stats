var ROOT_URL="http://internal.axihub.ca/folding";function toggleMainButtonStyle(a,e){a=document.getElementById(a+"_button");e.contains("collapsed")?(a.classList.add("btn-primary"),a.classList.remove("btn-success")):(a.classList.add("btn-success"),a.classList.remove("btn-primary"))}
function toggleTeam(a,e){a=document.getElementById("team_"+a+"_button");e.contains("collapsed")?(a.classList.add("btn-primary"),a.classList.remove("btn-success")):(a.classList.add("btn-success"),a.classList.remove("btn-primary"))}
function loadTcStats(){fetch(ROOT_URL+"/tc_stats").then(function(a){return a.json()}).then(function(a){statsDiv=document.getElementById("stats_div");statsTitle=document.createElement("h2");statsTitle.setAttribute("class","navbar-brand");statsTitle.innerHTML="Overall Stats";statsDiv.append(statsTitle);statsTable=document.createElement("table");statsTable.setAttribute("id","stats");statsTable.setAttribute("class","table table-dark table-striped table-hover");statsTableHead=document.createElement("thead");
statsTableHeaderRow=document.createElement("tr");["Total Points","Total Units"].forEach(function(a,b){statsTableHeader=document.createElement("th");statsTableHeader.setAttribute("onclick","sortTable("+b+", 'stats')");statsTableHeader.setAttribute("scope","col");statsTableHeader.innerHTML=a;statsTableHeaderRow.append(statsTableHeader)});statsTableHead.append(statsTableHeaderRow);statsTable.append(statsTableHead);statsTableBody=document.createElement("tbody");statsTableBodyRow=document.createElement("tr");
["totalMultipliedPoints","totalUnits"].forEach(function(d,b){statsTableBodyCell=document.createElement("td");"totalMultipliedPoints"===d&&(statsTableBodyCell.setAttribute("data-bs-toggle","tooltip"),statsTableBodyCell.setAttribute("data-placement","top"),statsTableBodyCell.setAttribute("title","Unmultiplied: "+a.totalPoints.toLocaleString()),new bootstrap.Tooltip(statsTableBodyCell));statsTableBodyCell.innerHTML=a[d].toLocaleString();statsTableBodyRow.append(statsTableBodyCell)});statsTableBody.append(statsTableBodyRow);
statsTable.append(statsTableBody);statsDiv.append(statsTable);var e="Rank User Category Hardware Points Units".split(" "),b="rankInTeam userName category hardware multipliedPoints units".split(" "),g=a.teams;g.sort(sortJsonByKey("rank"));g.forEach(function(a,f){var c=f+1,d=a.captainName;teamDiv=document.createElement("div");teamDiv.setAttribute("id","team_"+c+"_div");metadataDiv=document.createElement("div");metadataDiv.setAttribute("id","team_"+c+"_metadata");teamTitle=document.createElement("h2");
teamTitle.innerHTML="Rank #"+a.rank+": "+a.teamName;metadataDiv.append(teamTitle);teamStats=document.createElement("h5");teamStats.setAttribute("id","team_"+c+"_stats");teamStats.setAttribute("data-bs-toggle","tooltip");teamStats.setAttribute("data-placement","top");teamStats.setAttribute("title","Unmultiplied: "+a.teamPoints.toLocaleString());teamStats.innerHTML=a.teamMultipliedPoints.toLocaleString()+" points | "+a.teamUnits.toLocaleString()+" units";new bootstrap.Tooltip(teamStats);metadataDiv.append(teamStats);
teamButton=document.createElement("button");teamButton.setAttribute("id","team_"+c+"_button");teamButton.setAttribute("class","btn ui-btn btn-primary");teamButton.setAttribute("href","#team_"+c+"_subdiv");teamButton.setAttribute("onclick","toggleTeam("+c+", this.classList)");teamButton.setAttribute("data-bs-toggle","collapse");teamButton.setAttribute("role","button");teamButton.innerHTML="Show/Hide";metadataDiv.append(teamButton);teamDiv.append(metadataDiv);subDiv=document.createElement("div");subDiv.setAttribute("id",
"team_"+c+"_subdiv");subDiv.setAttribute("class","collapse");teamTable=document.createElement("table");teamTable.setAttribute("id","team_"+c);teamTable.setAttribute("class","table table-dark table-striped table-hover");teamTableHead=document.createElement("thead");teamTableHeaderRow=document.createElement("tr");e.forEach(function(a,b){teamTableHeaderCell=document.createElement("th");teamTableHeaderCell.setAttribute("onclick","sortTable("+b+", 'team_"+c+"')");teamTableHeaderCell.setAttribute("scope",
"col");teamTableHeaderCell.innerHTML=a;teamTableHeaderRow.append(teamTableHeaderCell)});teamTableHead.append(teamTableHeaderRow);teamTable.append(teamTableHead);teamTableBody=document.createElement("tbody");activeUsers=a.activeUsers;activeUsers.forEach(function(a,c){teamTableBodyRow=document.createElement("tr");b.forEach(function(b,c){teamTableUserCell=document.createElement("td");"multipliedPoints"===b?(teamTableUserCell.setAttribute("data-bs-toggle","tooltip"),teamTableUserCell.setAttribute("data-placement",
"left"),teamTableUserCell.setAttribute("title","Unmultiplied: "+a.points.toLocaleString()),teamTableUserCell.innerHTML=a[b].toLocaleString(),new bootstrap.Tooltip(teamTableUserCell)):"userName"===b&&a[b]===d?teamTableUserCell.innerHTML=a[b].toLocaleString()+" (Captain)":"hardware"===b?(teamTableUserCell.setAttribute("data-bs-toggle","tooltip"),teamTableUserCell.setAttribute("data-placement","left"),teamTableUserCell.setAttribute("title","Multiplier: x"+a.hardware.multiplier.toLocaleString()),teamTableUserCell.innerHTML=
a[b].displayName.toLocaleString(),new bootstrap.Tooltip(teamTableUserCell)):teamTableUserCell.innerHTML=a[b].toLocaleString();teamTableBodyRow.append(teamTableUserCell)});teamTableBody.append(teamTableBodyRow)});retiredUsers=a.retiredUsers;retiredUsers.forEach(function(a,c){teamTableBodyRow=document.createElement("tr");b.forEach(function(b,c){teamTableUserCell=document.createElement("td");"multipliedPoints"===b?(teamTableUserCell.setAttribute("data-bs-toggle","tooltip"),teamTableUserCell.setAttribute("data-placement",
"left"),teamTableUserCell.setAttribute("title","Unmultiplied: "+a.points.toLocaleString()),teamTableUserCell.innerHTML=a[b].toLocaleString(),new bootstrap.Tooltip(teamTableUserCell)):"userName"===b?teamTableUserCell.innerHTML=a[b]+" (retired)":"hardware"===b?(teamTableUserCell.setAttribute("data-bs-toggle","tooltip"),teamTableUserCell.setAttribute("data-placement","left"),teamTableUserCell.setAttribute("title","Multiplier: x"+a.hardware.multiplier.toLocaleString()),teamTableUserCell.innerHTML=a[b].displayName.toLocaleString(),
new bootstrap.Tooltip(teamTableUserCell)):teamTableUserCell.innerHTML=a[b].toLocaleString();teamTableBodyRow.append(teamTableUserRow)});teamTableBody.append(teamTableBodyRow)});teamTable.append(teamTableBody);subDiv.append(teamTable);teamDiv.append(subDiv);statsDiv.append(teamDiv);statsDiv.append(document.createElement("br"))});hide("loader")})}document.addEventListener("DOMContentLoaded",function(a){loadTcStats();updateTimer()});function show(a){document.getElementById(a).style.display="block"}
function hide(a){document.getElementById(a).style.display="none"}window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date);gtag("config","G-NTH3EFBH2T");function sortJsonByKey(a){return function(e,b){return e[a]>b[a]?1:e[a]<b[a]?-1:0}}
function sortTable(a,e){var b,g,d,f,c,h,k,l=0;e=document.getElementById(e);g=!0;for(k="asc";g;){g=!1;b=e.rows;for(d=1;d<b.length-1;d++)if(h=!1,f=b[d].getElementsByTagName("TD")[a],c=b[d+1].getElementsByTagName("TD")[a],"asc"==k)if(isNaN(f.innerHTML)||isNaN(c.innerHTML)){if(f.innerHTML.toLowerCase()>c.innerHTML.toLowerCase()){h=!0;break}}else{if(parseInt(f.innerHTML)>parseInt(c.innerHTML)){h=!0;break}}else if("desc"==k)if(isNaN(f.innerHTML)||isNaN(c.innerHTML)){if(f.innerHTML.toLowerCase()<c.innerHTML.toLowerCase()){h=
!0;break}}else if(parseInt(f.innerHTML)<parseInt(c.innerHTML)){h=!0;break}h?(b[d].parentNode.insertBefore(b[d+1],b[d]),g=!0,l++):0==l&&"asc"==k&&(k="desc",g=!0)}}function updateTimer(){var a=new Date,a=3600-(a.getUTCMinutes()-55)%60*60-a.getUTCSeconds();minutes=Math.floor(a/60)%60;seconds=a%60;document.getElementById("min-part").innerHTML=minutes;document.getElementById("sec-part").innerHTML=String(seconds).padStart(2,"0");setTimeout(updateTimer,1E3-(new Date).getUTCMilliseconds())};