function show(a){document.getElementById(a).style.display="block"}function hide(a){document.getElementById(a).style.display="none"}window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date);gtag("config","G-NTH3EFBH2T");function sortJsonByKey(a){return function(e,c){return e[a]>c[a]?1:e[a]<c[a]?-1:0}}var ROOT_URL="http://internal.axihub.ca/folding";
function toggleMainButtonStyle(a,e){a=document.getElementById(a+"_button");e.contains("collapsed")?(a.classList.add("btn-primary"),a.classList.remove("btn-success")):(a.classList.add("btn-success"),a.classList.remove("btn-primary"))}function toggleTeam(a,e){a=document.getElementById("team_"+a+"_button");e.contains("collapsed")?(a.classList.add("btn-primary"),a.classList.remove("btn-success")):(a.classList.add("btn-success"),a.classList.remove("btn-primary"))}
function loadTcStats(){fetch(ROOT_URL+"/tc_stats").then(function(a){return a.json()}).then(function(a){statsDiv=document.getElementById("stats_div");statsTitle=document.createElement("h2");statsTitle.setAttribute("class","navbar-brand");statsTitle.innerHTML="Overall Stats";statsDiv.append(statsTitle);statsTable=document.createElement("table");statsTable.setAttribute("id","stats");statsTable.setAttribute("class","table table-dark table-striped table-hover");statsTableHead=document.createElement("thead");
statsTableHeaderRow=document.createElement("tr");["Total Points","Total Units"].forEach(function(a,c){statsTableHeader=document.createElement("th");statsTableHeader.setAttribute("onclick","sortTable("+c+", 'stats')");statsTableHeader.setAttribute("scope","col");statsTableHeader.innerHTML=a;statsTableHeaderRow.append(statsTableHeader)});statsTableHead.append(statsTableHeaderRow);statsTable.append(statsTableHead);statsTableBody=document.createElement("tbody");statsTableBodyRow=document.createElement("tr");
["totalMultipliedPoints","totalUnits"].forEach(function(b,c){statsTableBodyCell=document.createElement("td");"totalMultipliedPoints"===b&&(statsTableBodyCell.setAttribute("data-bs-toggle","tooltip"),statsTableBodyCell.setAttribute("data-placement","top"),statsTableBodyCell.setAttribute("title","Unmultiplied: "+a.totalPoints.toLocaleString()),new bootstrap.Tooltip(statsTableBodyCell));statsTableBodyCell.innerHTML=a[b].toLocaleString();statsTableBodyRow.append(statsTableBodyCell)});statsTableBody.append(statsTableBodyRow);
statsTable.append(statsTableBody);statsDiv.append(statsTable);var e="Rank User Category Hardware Points Units".split(" "),c="rankInTeam userName category hardware multipliedPoints units".split(" "),d=a.teams;d.sort(sortJsonByKey("rank"));d.forEach(function(a,d){var b=d+1,f=a.captainName;teamDiv=document.createElement("div");teamDiv.setAttribute("id","team_"+b+"_div");metadataDiv=document.createElement("div");metadataDiv.setAttribute("id","team_"+b+"_metadata");teamTitle=document.createElement("h2");
teamTitle.innerHTML="Rank #"+a.rank+": "+a.teamName;metadataDiv.append(teamTitle);teamStats=document.createElement("h5");teamStats.setAttribute("id","team_"+b+"_stats");teamStats.setAttribute("data-bs-toggle","tooltip");teamStats.setAttribute("data-placement","top");teamStats.setAttribute("title","Unmultiplied: "+a.teamPoints.toLocaleString());teamStats.innerHTML=a.teamMultipliedPoints.toLocaleString()+" points | "+a.teamUnits.toLocaleString()+" units";new bootstrap.Tooltip(teamStats);metadataDiv.append(teamStats);
teamButton=document.createElement("button");teamButton.setAttribute("id","team_"+b+"_button");teamButton.setAttribute("class","btn ui-btn btn-primary");teamButton.setAttribute("href","#team_"+b+"_subdiv");teamButton.setAttribute("onclick","toggleTeam("+b+", this.classList)");teamButton.setAttribute("data-bs-toggle","collapse");teamButton.setAttribute("role","button");teamButton.innerHTML="Show/Hide";metadataDiv.append(teamButton);teamDiv.append(metadataDiv);subDiv=document.createElement("div");subDiv.setAttribute("id",
"team_"+b+"_subdiv");subDiv.setAttribute("class","collapse");teamTable=document.createElement("table");teamTable.setAttribute("id","team_"+b);teamTable.setAttribute("class","table table-dark table-striped table-hover");teamTableHead=document.createElement("thead");teamTableHeaderRow=document.createElement("tr");e.forEach(function(a,c){teamTableHeaderCell=document.createElement("th");teamTableHeaderCell.setAttribute("onclick","sortTable("+c+", 'team_"+b+"')");teamTableHeaderCell.setAttribute("scope",
"col");teamTableHeaderCell.innerHTML=a;teamTableHeaderRow.append(teamTableHeaderCell)});teamTableHead.append(teamTableHeaderRow);teamTable.append(teamTableHead);teamTableBody=document.createElement("tbody");activeUsers=a.activeUsers;activeUsers.forEach(function(a,b){teamTableBodyRow=document.createElement("tr");c.forEach(function(b,c){teamTableUserCell=document.createElement("td");"multipliedPoints"===b?(teamTableUserCell.setAttribute("data-bs-toggle","tooltip"),teamTableUserCell.setAttribute("data-placement",
"left"),teamTableUserCell.setAttribute("title","Unmultiplied: "+a.points.toLocaleString()),teamTableUserCell.innerHTML=a[b].toLocaleString(),new bootstrap.Tooltip(teamTableUserCell)):teamTableUserCell.innerHTML="userName"===b&&a[b]===f?a[b].toLocaleString()+" (Captain)":a[b].toLocaleString();teamTableBodyRow.append(teamTableUserCell)});teamTableBody.append(teamTableBodyRow)});retiredUsers=a.retiredUsers;retiredUsers.forEach(function(a,b){teamTableBodyRow=document.createElement("tr");c.forEach(function(b,
c){teamTableUserCell=document.createElement("td");"userName"===b?teamTableUserCell.innerHTML=a[b]+" (retired)":("multipliedPoints"===b&&(teamTableUserCell.setAttribute("data-bs-toggle","tooltip"),teamTableUserCell.setAttribute("data-placement","left"),teamTableUserCell.setAttribute("title","Unmultiplied: "+a.points.toLocaleString()),new bootstrap.Tooltip(teamTableUserCell)),teamTableUserCell.innerHTML=a[b].toLocaleString());teamTableBodyRow.append(teamTableUserRow)});teamTableBody.append(teamTableBodyRow)});
teamTable.append(teamTableBody);subDiv.append(teamTable);teamDiv.append(subDiv);statsDiv.append(teamDiv);statsDiv.append(document.createElement("br"))});hide("loader")})}
function loadHardware(){fetch(ROOT_URL+"/hardware").then(function(a){return a.json()}).then(function(a){a.sort(sortJsonByKey("id"));var e=["id","displayName","operatingSystem","multiplier"];hardwareDiv=document.getElementById("hardware_div");hardwareTitle=document.createElement("h2");hardwareTitle.setAttribute("class","navbar-brand");hardwareTitle.innerHTML="Hardware";hardwareDiv.append(hardwareTitle);hardwareTable=document.createElement("table");hardwareTable.setAttribute("id","hardware");hardwareTable.setAttribute("class",
"table table-dark table-striped table-hover");hardwareTableHead=document.createElement("thead");hardwareTableHeaderRow=document.createElement("tr");["ID","Name","Operating System","Multiplier"].forEach(function(a,d){hardwareTableHeader=document.createElement("th");hardwareTableHeader.setAttribute("onclick","sortTable("+d+", 'hardware')");hardwareTableHeader.setAttribute("scope","col");hardwareTableHeader.innerHTML=a;hardwareTableHeaderRow.append(hardwareTableHeader)});hardwareTableHead.append(hardwareTableHeaderRow);
hardwareTable.append(hardwareTableHead);hardwareTableBody=document.createElement("tbody");a.forEach(function(a,d){hardwareTableBodyRow=document.createElement("tr");e.forEach(function(b,c){hardwareTableBodyCell=document.createElement("td");hardwareTableBodyCell.innerHTML="multiplier"===b?"x"+a[b].toLocaleString():a[b].toLocaleString();hardwareTableBodyRow.append(hardwareTableBodyCell)});hardwareTableBody.append(hardwareTableBodyRow)});hardwareTable.append(hardwareTableBody);hardwareDiv.append(hardwareTable)})}
function loadUsers(){fetch(ROOT_URL+"/users").then(function(a){return a.json()}).then(function(a){a.sort(sortJsonByKey("id"));var e="id displayName passkey category hardwareId liveStatsLink".split(" ");usersDiv=document.getElementById("users_div");usersTitle=document.createElement("h2");usersTitle.setAttribute("class","navbar-brand");usersTitle.innerHTML="Users";usersDiv.append(usersTitle);usersTable=document.createElement("table");usersTable.setAttribute("id","users");usersTable.setAttribute("class",
"table table-dark table-striped table-hover");usersTableHead=document.createElement("thead");usersTableHeaderRow=document.createElement("tr");"ID;User;Passkey;Category;Hardware ID;Live Stats Link".split(";").forEach(function(a,d){usersTableHeader=document.createElement("th");usersTableHeader.setAttribute("onclick","sortTable("+d+", 'users')");usersTableHeader.setAttribute("scope","col");usersTableHeader.innerHTML=a;usersTableHeaderRow.append(usersTableHeader)});usersTableHead.append(usersTableHeaderRow);
usersTable.append(usersTableHead);usersTableBody=document.createElement("tbody");a.forEach(function(a,d){usersTableBodyRow=document.createElement("tr");e.forEach(function(b,c){usersTableBodyCell=document.createElement("td");"liveStatsLink"===b?b in a&&(liveStatsLink=document.createElement("a"),liveStatsLink.setAttribute("href",a[b]),liveStatsLink.innerHTML=a[b],usersTableBodyCell.append(liveStatsLink)):usersTableBodyCell.innerHTML=a[b].toLocaleString();usersTableBodyRow.append(usersTableBodyCell)});
usersTableBody.append(usersTableBodyRow)});usersTable.append(usersTableBody);usersDiv.append(usersTable)})}
function loadTeams(){fetch(ROOT_URL+"/teams").then(function(a){return a.json()}).then(function(a){a.sort(sortJsonByKey("id"));var e="id teamName teamDescription captainUserId userIds retiredUserIds".split(" ");teamsDiv=document.getElementById("teams_div");teamsTitle=document.createElement("h2");teamsTitle.setAttribute("class","navbar-brand");teamsTitle.innerHTML="Teams";teamsDiv.append(teamsTitle);teamsTable=document.createElement("table");teamsTable.setAttribute("id","teams");teamsTable.setAttribute("class",
"table table-dark table-striped table-hover");teamsTableHead=document.createElement("thead");teamsTableHeaderRow=document.createElement("tr");"ID;Name;Description;Captain ID;User IDs;Retired User IDs".split(";").forEach(function(a,d){teamsTableHeader=document.createElement("th");teamsTableHeader.setAttribute("onclick","sortTable("+d+", 'teams')");teamsTableHeader.setAttribute("scope","col");teamsTableHeader.innerHTML=a;teamsTableHeaderRow.append(teamsTableHeader)});teamsTableHead.append(teamsTableHeaderRow);
teamsTable.append(teamsTableHead);teamsTableBody=document.createElement("tbody");a.forEach(function(a,d){teamsTableBodyRow=document.createElement("tr");e.forEach(function(b,c){teamsTableBodyCell=document.createElement("td");"liveStatsLink"===b?b in a&&(liveStatsLink=document.createElement("a"),liveStatsLink.setAttribute("href",a[b]),liveStatsLink.innerHTML=a[b],teamsTableBodyCell.append(liveStatsLink)):(teamsTableBodyCell.innerHTML=a[b].toLocaleString(),teamsTableBodyRow.append(teamsTableBodyCell))});
teamsTableBody.append(teamsTableBodyRow)});teamsTable.append(teamsTableBody);teamsDiv.append(teamsTable)})}document.addEventListener("DOMContentLoaded",function(a){loadTcStats();loadHardware();loadUsers();loadTeams();updateTimer()});
function sortTable(a,e){var c,d,b,f,g,h,k,l=0;e=document.getElementById(e);d=!0;for(k="asc";d;){d=!1;c=e.rows;for(b=1;b<c.length-1;b++)if(h=!1,f=c[b].getElementsByTagName("TD")[a],g=c[b+1].getElementsByTagName("TD")[a],"asc"==k)if(isNaN(f.innerHTML)||isNaN(g.innerHTML)){if(f.innerHTML.toLowerCase()>g.innerHTML.toLowerCase()){h=!0;break}}else{if(parseInt(f.innerHTML)>parseInt(g.innerHTML)){h=!0;break}}else if("desc"==k)if(isNaN(f.innerHTML)||isNaN(g.innerHTML)){if(f.innerHTML.toLowerCase()<g.innerHTML.toLowerCase()){h=
!0;break}}else if(parseInt(f.innerHTML)<parseInt(g.innerHTML)){h=!0;break}h?(c[b].parentNode.insertBefore(c[b+1],c[b]),d=!0,l++):0==l&&"asc"==k&&(k="desc",d=!0)}}function updateTimer(){var a=new Date,a=3600-(a.getUTCMinutes()-15)%60*60-a.getUTCSeconds();minutes=Math.floor(a/60)%60;seconds=a%60;document.getElementById("min-part").innerHTML=minutes;document.getElementById("sec-part").innerHTML=String(seconds).padStart(2,"0");setTimeout(updateTimer,1E3-(new Date).getUTCMilliseconds())};