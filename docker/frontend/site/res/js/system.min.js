var ROOT_URL="http://internal.axihub.ca/folding";function toggleMainButtonStyle(a,b){a=document.getElementById(a);b.contains("collapsed")?(a.classList.add("btn-primary"),a.classList.remove("btn-success")):(a.classList.add("btn-success"),a.classList.remove("btn-primary"))}
function adminLogin(){var a=document.getElementById("login_username").value,b=document.getElementById("login_password").value,c="Basic "+encode(a,b),a=JSON.stringify({encodedUserNameAndPassword:c});show("loader");fetch(ROOT_URL+"/login/admin",{method:"POST",headers:{"Content-Type":"application/json"},body:a}).then(function(a){hide("loader");document.getElementById("login_username").value="";document.getElementById("login_password").value="";200!=a.status?failureToast("Invalid admin credentials!"):
(successToast("Logged in successfully!"),hide("login_form"),show("admin_functions"),sessionSet("Authorization",c))}).catch(function(a){hide("loader");console.error("Unexpected error logging in: ",a);return!1})}
function manualUpdate(){show("loader");fetch(ROOT_URL+"/stats/manual/update",{headers:{"Content-Type":"application/json",Authorization:sessionGet("Authorization")}}).then(function(a){hide("loader");200!=a.status?(failureToast("Manual update failed with code: "+a.status),a.json().then(function(a){console.error(JSON.stringify(a,null,2))})):successToast("Stats manually updated")}).catch(function(a){hide("loader");console.error("Unexpected error updating stats: ",a);return!1})}
function printCache(){show("loader");fetch(ROOT_URL+"/debug/print_caches",{headers:{"Content-Type":"application/json",Authorization:sessionGet("Authorization")}}).then(function(a){hide("loader");200!=a.status?(failureToast("Printing caches failed with code: "+a.status),a.json().then(function(a){console.error(JSON.stringify(a,null,2))})):successToast("Caches printed")}).catch(function(a){hide("loader");console.error("Unexpected error printing caches: ",a);return!1})}
function loadHardware(){fetch(ROOT_URL+"/hardware").then(function(a){return a.json()}).then(function(a){a.sort(sortJsonByKey("id"));var b=["id","hardwareName","displayName","multiplier"];for(hardwareDiv=document.getElementById("hardware_div");hardwareDiv.firstChild;)hardwareDiv.removeChild(hardwareDiv.lastChild);hardwareTitle=document.createElement("h2");hardwareTitle.setAttribute("class","navbar-brand");hardwareTitle.innerHTML="Hardware";hardwareDiv.append(hardwareTitle);hardwareTable=document.createElement("table");
hardwareTable.setAttribute("id","hardware");hardwareTable.setAttribute("class","table table-dark table-striped table-hover");hardwareTableHead=document.createElement("thead");hardwareTableHeaderRow=document.createElement("tr");["ID","Name","Display Name","Multiplier"].forEach(function(a,b){hardwareTableHeader=document.createElement("th");hardwareTableHeader.setAttribute("onclick","sortTable("+b+", 'hardware')");hardwareTableHeader.setAttribute("scope","col");hardwareTableHeader.innerHTML=a;hardwareTableHeaderRow.append(hardwareTableHeader)});
hardwareTableHead.append(hardwareTableHeaderRow);hardwareTable.append(hardwareTableHead);hardwareTableBody=document.createElement("tbody");a.forEach(function(a,c){hardwareTableBodyRow=document.createElement("tr");b.forEach(function(e,b){hardwareTableBodyCell=document.createElement("td");hardwareTableBodyCell.innerHTML="multiplier"===e?"x"+a[e].toLocaleString():a[e].toLocaleString();hardwareTableBodyRow.append(hardwareTableBodyCell)});hardwareTableBody.append(hardwareTableBodyRow)});hardwareTable.append(hardwareTableBody);
hardwareDiv.append(hardwareTable);a.sort(sortJsonByKey("hardwareName"));hardwareLists=document.querySelectorAll(".hardware_list");for(var c=0,d;d=hardwareLists[c];c++){for(;d.firstChild;)d.removeChild(d.lastChild);defaultHardwareOption=document.createElement("option");defaultHardwareOption.setAttribute("value","");defaultHardwareOption.setAttribute("disabled","");defaultHardwareOption.setAttribute("selected","");defaultHardwareOption.innerHTML="Choose Hardware...";d.append(defaultHardwareOption);
a.forEach(function(a,b){hardwareOption=document.createElement("option");hardwareOption.setAttribute("value",a.id);hardwareOption.setAttribute("hardware_id",a.id);hardwareOption.setAttribute("hardware_name",a.hardwareName);hardwareOption.setAttribute("display_name",a.displayName);hardwareOption.setAttribute("multiplier",a.multiplier);hardwareOption.innerHTML=a.hardwareName+" ("+a.displayName+")";d.append(hardwareOption)})}})}
function loadUsers(){fetch(ROOT_URL+"/users").then(function(a){return a.json()}).then(function(a){a.sort(sortJsonByKey("id"));var b="id displayName foldingUserName passkey category profileLink liveStatsLink hardware team userIsCaptain".split(" ");for(usersDiv=document.getElementById("users_div");usersDiv.firstChild;)usersDiv.removeChild(usersDiv.lastChild);usersTitle=document.createElement("h2");usersTitle.setAttribute("class","navbar-brand");usersTitle.innerHTML="Users";usersDiv.append(usersTitle);
usersTable=document.createElement("table");usersTable.setAttribute("id","users");usersTable.setAttribute("class","table table-dark table-striped table-hover");usersTableHead=document.createElement("thead");usersTableHeaderRow=document.createElement("tr");"ID;User;Folding Name;Passkey;Category;Profile Link;Live Stats Link;Hardware;Team;Is Captain".split(";").forEach(function(a,b){usersTableHeader=document.createElement("th");usersTableHeader.setAttribute("onclick","sortTable("+b+", 'users')");usersTableHeader.setAttribute("scope",
"col");usersTableHeader.innerHTML=a;usersTableHeaderRow.append(usersTableHeader)});usersTableHead.append(usersTableHeaderRow);usersTable.append(usersTableHead);usersTableBody=document.createElement("tbody");a.forEach(function(a,c){usersTableBodyRow=document.createElement("tr");b.forEach(function(b,e){usersTableBodyCell=document.createElement("td");"liveStatsLink"===b||"profileLink"===b?b in a&&(link=document.createElement("a"),link.setAttribute("href",a[b]),link.innerHTML=a[b],usersTableBodyCell.append(link)):
"hardware"===b?usersTableBodyCell.innerHTML=a.hardware.hardwareName.toLocaleString():"team"===b?usersTableBodyCell.innerHTML=a.team.teamName.toLocaleString():"category"===b?usersTableBodyCell.innerHTML=getCategoryFrontend(a.category):b in a&&(usersTableBodyCell.innerHTML=a[b].toLocaleString());usersTableBodyRow.append(usersTableBodyCell)});usersTableBody.append(usersTableBodyRow)});usersTable.append(usersTableBody);usersDiv.append(usersTable);a.sort(sortJsonByKey("displayName"));userLists=document.querySelectorAll(".user_list");
for(var c=0,d;d=userLists[c];c++){for(;d.firstChild;)d.removeChild(d.lastChild);defaultUserOption=document.createElement("option");defaultUserOption.setAttribute("value","");defaultUserOption.setAttribute("disabled","");defaultUserOption.setAttribute("selected","");defaultUserOption.innerHTML="Choose User...";d.append(defaultUserOption);a.forEach(function(a,b){userOption=document.createElement("option");userOption.setAttribute("value",a.id);userOption.setAttribute("user_id",a.id);userOption.setAttribute("user_folding_name",
a.foldingUserName);userOption.setAttribute("user_display_name",a.displayName);userOption.setAttribute("user_passkey",a.passkey);userOption.setAttribute("user_category",getCategoryFrontend(a.category));userOption.setAttribute("user_profile_link",a.profileLink);userOption.setAttribute("user_live_stats_link",a.liveStatsLink);userOption.setAttribute("user_hardware_id",a.hardware.id);userOption.setAttribute("user_team_id",a.team.id);userOption.setAttribute("user_is_captain",a.userIsCaptain);userOption.innerHTML=
a.displayName+" ("+a.team.teamName+")";d.append(userOption)})}})}
function loadTeams(){fetch(ROOT_URL+"/teams").then(function(a){return a.json()}).then(function(a){a.sort(sortJsonByKey("id"));var b=["id","teamName","teamDescription","forumLink"];for(teamsDiv=document.getElementById("teams_div");teamsDiv.firstChild;)teamsDiv.removeChild(teamsDiv.lastChild);teamsTitle=document.createElement("h2");teamsTitle.setAttribute("class","navbar-brand");teamsTitle.innerHTML="Teams";teamsDiv.append(teamsTitle);teamsTable=document.createElement("table");teamsTable.setAttribute("id",
"teams");teamsTable.setAttribute("class","table table-dark table-striped table-hover");teamsTableHead=document.createElement("thead");teamsTableHeaderRow=document.createElement("tr");["ID","Name","Description","Forum Link"].forEach(function(a,b){teamsTableHeader=document.createElement("th");teamsTableHeader.setAttribute("onclick","sortTable("+b+", 'teams')");teamsTableHeader.setAttribute("scope","col");teamsTableHeader.innerHTML=a;teamsTableHeaderRow.append(teamsTableHeader)});teamsTableHead.append(teamsTableHeaderRow);
teamsTable.append(teamsTableHead);teamsTableBody=document.createElement("tbody");a.forEach(function(a,c){teamsTableBodyRow=document.createElement("tr");b.forEach(function(b,c){teamsTableBodyCell=document.createElement("td");"forumLink"===b?b in a&&(link=document.createElement("a"),link.setAttribute("href",a[b]),link.setAttribute("target","_blank"),link.innerHTML=a[b],teamsTableBodyCell.append(link)):b in a&&(teamsTableBodyCell.innerHTML=a[b].toLocaleString());teamsTableBodyRow.append(teamsTableBodyCell)});
teamsTableBody.append(teamsTableBodyRow)});teamsTable.append(teamsTableBody);teamsDiv.append(teamsTable);teamLists=document.querySelectorAll(".team_list");for(var c=0,d;d=teamLists[c];c++){for(;d.firstChild;)d.removeChild(d.lastChild);defaultTeamOption=document.createElement("option");defaultTeamOption.setAttribute("value","");defaultTeamOption.setAttribute("disabled","");defaultTeamOption.setAttribute("selected","");defaultTeamOption.innerHTML="Choose Team...";d.append(defaultTeamOption);a.forEach(function(a,
b){teamOption=document.createElement("option");teamOption.setAttribute("value",a.id);teamOption.setAttribute("team_id",a.id);teamOption.setAttribute("team_name",a.teamName);teamOption.setAttribute("team_description",a.teamDescription);teamOption.setAttribute("team_forum_link",a.forumLink);teamOption.innerHTML=a.teamName;d.append(teamOption)})}})}
document.addEventListener("DOMContentLoaded",function(a){sessionContains("Authorization")&&(hide("login_form"),show("admin_functions"));loadHardware();loadTeams();loadUsers();updateTimer();hide("loader")});
function createHardware(){var a=document.getElementById("hardware_create_name").value.trim(),b=document.getElementById("hardware_create_display_name").value.trim(),c=document.getElementById("hardware_create_multiplier").value.trim(),a=JSON.stringify({hardwareName:a,displayName:b,multiplier:c});show("loader");fetch(ROOT_URL+"/hardware",{method:"POST",headers:{"Content-Type":"application/json",Authorization:sessionGet("Authorization")},body:a}).then(function(a){hide("loader");201!=a.status?(failureToast("Hardware create failed with code: "+
a.status),a.json().then(function(a){console.error(JSON.stringify(a,null,2))})):(document.getElementById("hardware_create_name").value="",document.getElementById("hardware_create_display_name").value="",document.getElementById("hardware_create_multiplier").value="",successToast("Hardware '"+b+"' created"),loadHardware())}).catch(function(a){hide("loader");console.error("Unexpected error creating hardware: ",a);return!1})}
function updateHardware(){var a=document.getElementById("hardware_update_selector"),a=document.getElementById("hardware_update_selector");selectedElement=a.options[a.selectedIndex];var a=selectedElement.getAttribute("hardware_id"),b=document.getElementById("hardware_update_name").value.trim(),c=document.getElementById("hardware_update_display_name").value.trim(),d=document.getElementById("hardware_update_multiplier").value.trim(),b=JSON.stringify({hardwareName:b,displayName:c,multiplier:d});show("loader");
fetch(ROOT_URL+"/hardware/"+a,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:sessionGet("Authorization")},body:b}).then(function(a){hide("loader");if(200!=a.status)failureToast("Hardware update failed with code: "+a.status),a.json().then(function(a){console.error(JSON.stringify(a,null,2))});else{document.getElementById("hardware_update_id").value="";document.getElementById("hardware_update_name").value="";document.getElementById("hardware_update_display_name").value="";document.getElementById("hardware_update_multiplier").value=
"";hardwareFields=document.querySelectorAll(".hardware_update");a=0;for(var b;b=hardwareFields[a];a++)hideElement(b);successToast("Hardware '"+c+"' updated");loadHardware()}}).catch(function(a){hide("loader");console.error("Unexpected error updating hardware: ",a);return!1})}
function deleteHardware(){var a=document.getElementById("hardware_delete_selector"),a=document.getElementById("hardware_delete_selector");selectedElement=a.options[a.selectedIndex];var a=selectedElement.getAttribute("hardware_id"),b=selectedElement.getAttribute("hardware_name");show("loader");fetch(ROOT_URL+"/hardware/"+a,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:sessionGet("Authorization")}}).then(function(a){hide("loader");if(200!=a.status)failureToast("Hardware delete failed with code: "+
a.status),a.json().then(function(a){console.error(JSON.stringify(a,null,2))});else{document.getElementById("hardware_delete_id").value="";document.getElementById("hardware_delete_name").value="";document.getElementById("hardware_delete_display_name").value="";document.getElementById("hardware_delete_multiplier").value="";hardwareFields=document.querySelectorAll(".hardware_delete");a=0;for(var c;c=hardwareFields[a];a++)hideElement(c);successToast("Hardware '"+b+"' deleted");loadHardware()}}).catch(function(a){hide("loader");
console.error("Unexpected error deleting hardware: ",a);return!1})}
function createTeam(){var a=document.getElementById("team_create_name").value.trim(),b=document.getElementById("team_create_description").value.trim(),c=document.getElementById("team_create_forum_link").value.trim(),b=JSON.stringify({teamName:a,teamDescription:b,forumLink:c});show("loader");fetch(ROOT_URL+"/teams",{method:"POST",headers:{"Content-Type":"application/json",Authorization:sessionGet("Authorization")},body:b}).then(function(b){hide("loader");201!=b.status?(failureToast("Team create failed with code: "+
b.status),b.json().then(function(a){console.error(JSON.stringify(a,null,2))})):(document.getElementById("team_create_name").value="",document.getElementById("team_create_description").value="",document.getElementById("team_create_forum_link").value="",successToast("Team '"+a+"' created"),loadTeams())}).catch(function(a){hide("loader");console.error("Unexpected error creating team: ",a);return!1})}
function updateTeam(){var a=document.getElementById("team_update_selector"),a=document.getElementById("team_update_selector");selectedElement=a.options[a.selectedIndex];var a=selectedElement.getAttribute("team_id"),b=document.getElementById("team_update_name").value.trim(),c=document.getElementById("team_update_description").value.trim(),d=document.getElementById("team_update_forum_link").value.trim(),c=JSON.stringify({teamName:b,teamDescription:c,forumLink:d});show("loader");fetch(ROOT_URL+"/teams/"+
a,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:sessionGet("Authorization")},body:c}).then(function(a){hide("loader");if(200!=a.status)failureToast("Team update failed with code: "+a.status),a.json().then(function(a){console.error(JSON.stringify(a,null,2))});else{document.getElementById("team_update_id").value="";document.getElementById("team_update_name").value="";document.getElementById("team_update_description").value="";document.getElementById("team_update_forum_link").value=
"";teamFields=document.querySelectorAll(".team_update");a=0;for(var c;c=teamFields[a];a++)hideElement(c);successToast("Team '"+b+"' updated");loadTeams()}}).catch(function(a){hide("loader");console.error("Unexpected error updating team: ",a);return!1})}
function deleteTeam(){var a=document.getElementById("team_delete_selector"),a=document.getElementById("team_delete_selector");selectedElement=a.options[a.selectedIndex];var a=selectedElement.getAttribute("team_id"),b=selectedElement.getAttribute("team_name");show("loader");fetch(ROOT_URL+"/teams/"+a,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:sessionGet("Authorization")}}).then(function(a){hide("loader");if(200!=a.status)failureToast("Team delete failed with code: "+
a.status),a.json().then(function(a){console.error(JSON.stringify(a,null,2))});else{document.getElementById("team_delete_id").value="";document.getElementById("team_delete_name").value="";document.getElementById("team_delete_description").value="";document.getElementById("team_delete_forum_link").value="";teamFields=document.querySelectorAll(".team_delete");a=0;for(var c;c=teamFields[a];a++)hideElement(c);successToast("Team '"+b+"' deleted");loadTeams()}}).catch(function(a){hide("loader");console.error("Unexpected error deleting team: ",
a);return!1})}
function createUser(){var a=document.getElementById("user_create_folding_name").value.trim(),b=document.getElementById("user_create_display_name").value.trim(),c=document.getElementById("user_create_passkey").value.trim(),d=document.getElementById("user_create_category").value.trim(),e=document.getElementById("user_create_profile_link").value.trim(),f=document.getElementById("user_create_live_stats_link").value.trim(),g=document.getElementById("user_create_hardware_selector").value.trim(),h=document.getElementById("user_create_team_selector").value.trim(),
k=document.getElementById("user_create_is_captain").checked,a=JSON.stringify({foldingUserName:a,displayName:b,passkey:c,category:getCategoryBackend(d),profileLink:e,liveStatsLink:f,hardwareId:g,teamId:h,userIsCaptain:k});show("loader");fetch(ROOT_URL+"/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:sessionGet("Authorization")},body:a}).then(function(a){hide("loader");201!=a.status?(failureToast("User create failed with code: "+a.status),a.json().then(function(a){console.error(JSON.stringify(a,
null,2))})):(document.getElementById("user_create_folding_name").value="",document.getElementById("user_create_display_name").value="",document.getElementById("user_create_passkey").value="",document.getElementById("user_create_category").value="",document.getElementById("user_create_profile_link").value="",document.getElementById("user_create_live_stats_link").value="",document.getElementById("user_create_hardware_selector").value="",document.getElementById("user_create_team_selector").value="",
document.getElementById("user_create_is_captain").checked=!1,successToast("User '"+b+"' created"),loadUsers())}).catch(function(a){hide("loader");console.error("Unexpected error creating user: ",a);return!1})}
function updateUser(){var a=document.getElementById("user_update_selector"),a=document.getElementById("user_update_selector");selectedElement=a.options[a.selectedIndex];var a=selectedElement.getAttribute("user_id"),b=document.getElementById("user_update_folding_name").value.trim(),c=document.getElementById("user_update_display_name").value.trim(),d=document.getElementById("user_update_passkey").value.trim(),e=document.getElementById("user_update_category").value.trim(),f=document.getElementById("user_update_profile_link").value.trim(),
g=document.getElementById("user_update_live_stats_link").value.trim(),h=document.getElementById("user_update_hardware_selector").value.trim(),k=document.getElementById("user_update_team_selector").value.trim(),l=document.getElementById("user_update_is_captain").checked,b=JSON.stringify({foldingUserName:b,displayName:c,passkey:d,category:getCategoryBackend(e),profileLink:f,liveStatsLink:g,hardwareId:h,teamId:k,userIsCaptain:l});show("loader");fetch(ROOT_URL+"/users/"+a,{method:"PUT",headers:{"Content-Type":"application/json",
Authorization:sessionGet("Authorization")},body:b}).then(function(a){hide("loader");if(200!=a.status)failureToast("User update failed with code: "+a.status),a.json().then(function(a){console.error(JSON.stringify(a,null,2))});else{document.getElementById("user_update_id").value="";document.getElementById("user_update_folding_name").value="";document.getElementById("user_update_display_name").value="";document.getElementById("user_update_passkey").value="";document.getElementById("user_update_category").value=
"";document.getElementById("user_update_profile_link").value="";document.getElementById("user_update_live_stats_link").value="";document.getElementById("user_update_hardware_selector").value="";document.getElementById("user_update_team_selector").value="";document.getElementById("user_update_is_captain").checked=!1;userFields=document.querySelectorAll(".user_delete");a=0;for(var b;b=userFields[a];a++)hideElement(b);successToast("User '"+c+"' updated");loadUsers()}}).catch(function(a){hide("loader");
console.error("Unexpected error updating user: ",a);return!1})}
function deleteUser(){var a=document.getElementById("user_delete_selector"),a=document.getElementById("user_delete_selector");selectedElement=a.options[a.selectedIndex];var a=selectedElement.getAttribute("user_id"),b=selectedElement.getAttribute("user_display_name");show("loader");fetch(ROOT_URL+"/users/"+a,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:sessionGet("Authorization")}}).then(function(a){hide("loader");if(200!=a.status)failureToast("User delete failed with code: "+
a.status),a.json().then(function(a){console.error(JSON.stringify(a,null,2))});else{document.getElementById("user_delete_id").value="";document.getElementById("user_delete_folding_name").value="";document.getElementById("user_delete_display_name").value="";document.getElementById("user_delete_passkey").value="";document.getElementById("user_delete_category").value="";document.getElementById("user_delete_profile_link").value="";document.getElementById("user_delete_live_stats_link").value="";document.getElementById("user_delete_hardware_selector").value=
"";document.getElementById("user_delete_team_selector").value="";document.getElementById("user_delete_is_captain").checked=!1;userFields=document.querySelectorAll(".user_delete");a=0;for(var c;c=userFields[a];a++)hideElement(c);successToast("User '"+b+"' deleted");loadUsers()}}).catch(function(a){hide("loader");console.error("Unexpected error deleting user: ",a);return!1})}
function offsetUser(){var a=document.getElementById("user_offset_selector"),a=document.getElementById("user_offset_selector");selectedElement=a.options[a.selectedIndex];var b=selectedElement.getAttribute("user_id"),c=selectedElement.getAttribute("user_display_name");show("loader");fetch(ROOT_URL+"/stats/users/"+b).then(function(a){return a.json()}).then(function(a){var d=a.multipliedPoints;a=a.units;var f=document.getElementById("user_offset_points").value,g=document.getElementById("user_offset_units").value,
h=f-d,k=g-a,d=JSON.stringify({multipliedPointsOffset:h,unitsOffset:k});fetch(ROOT_URL+"/stats/users/"+b,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:sessionGet("Authorization")},body:d}).then(function(a){hide("loader");200!=a.status?(failureToast("User stats offset failed with code: "+a.status),a.json().then(function(a){console.error(JSON.stringify(a,null,2))})):(document.getElementById("user_offset_points").value="",document.getElementById("user_offset_units").value="",
successToast("User '"+c+"' stats updated: "+h+" points, "+k+" units"),loadUsers())}).catch(function(a){hide("loader");console.error("Unexpected error offsetting user stats: ",a);return!1})})}
function populateHardwareUpdate(){show("loader");element=document.getElementById("hardware_update_selector");selectedElement=element.options[element.selectedIndex];document.getElementById("hardware_update_id").value=selectedElement.getAttribute("hardware_id");document.getElementById("hardware_update_name").value=selectedElement.getAttribute("hardware_name");document.getElementById("hardware_update_display_name").value=selectedElement.getAttribute("display_name");document.getElementById("hardware_update_multiplier").value=
selectedElement.getAttribute("multiplier");hardwareFields=document.querySelectorAll(".hardware_update");for(var a=0,b;b=hardwareFields[a];a++)showElement(b);hide("loader")}
function populateHardwareDelete(){show("loader");element=document.getElementById("hardware_delete_selector");selectedElement=element.options[element.selectedIndex];document.getElementById("hardware_delete_id").value=selectedElement.getAttribute("hardware_id");document.getElementById("hardware_delete_name").value=selectedElement.getAttribute("hardware_name");document.getElementById("hardware_delete_display_name").value=selectedElement.getAttribute("display_name");document.getElementById("hardware_delete_multiplier").value=
selectedElement.getAttribute("multiplier");hardwareFields=document.querySelectorAll(".hardware_delete");for(var a=0,b;b=hardwareFields[a];a++)showElement(b);hide("loader")}
function populateTeamUpdate(){show("loader");element=document.getElementById("team_update_selector");selectedElement=element.options[element.selectedIndex];document.getElementById("team_update_id").value=selectedElement.getAttribute("team_id");document.getElementById("team_update_name").value=selectedElement.getAttribute("team_name");teamDescription=selectedElement.getAttribute("team_description");"undefined"!==teamDescription?document.getElementById("team_update_description").value=teamDescription:
document.getElementById("team_update_description").value="";forumLink=selectedElement.getAttribute("team_forum_link");"undefined"!==forumLink?document.getElementById("team_update_forum_link").value=forumLink:document.getElementById("team_update_forum_link").value="";teamFields=document.querySelectorAll(".team_update");for(var a=0,b;b=teamFields[a];a++)showElement(b);hide("loader")}
function populateTeamDelete(){show("loader");element=document.getElementById("team_delete_selector");selectedElement=element.options[element.selectedIndex];document.getElementById("team_delete_id").value=selectedElement.getAttribute("team_id");document.getElementById("team_delete_name").value=selectedElement.getAttribute("team_name");teamDescription=selectedElement.getAttribute("team_description");"undefined"!==teamDescription?document.getElementById("team_delete_description").value=teamDescription:
document.getElementById("team_delete_description").value="";forumLink=selectedElement.getAttribute("team_forum_link");"undefined"!==forumLink?document.getElementById("team_delete_forum_link").value=forumLink:document.getElementById("team_delete_forum_link").value="";teamFields=document.querySelectorAll(".team_delete");for(var a=0,b;b=teamFields[a];a++)showElement(b);hide("loader")}
function populateUserUpdate(){show("loader");element=document.getElementById("user_update_selector");selectedElement=element.options[element.selectedIndex];document.getElementById("user_update_id").value=selectedElement.getAttribute("user_id");document.getElementById("user_update_folding_name").value=selectedElement.getAttribute("user_folding_name");document.getElementById("user_update_display_name").value=selectedElement.getAttribute("user_display_name");document.getElementById("user_update_passkey").value=
selectedElement.getAttribute("user_passkey");document.getElementById("user_update_category").value=selectedElement.getAttribute("user_category");document.getElementById("user_update_hardware_selector").value=selectedElement.getAttribute("user_hardware_id");document.getElementById("user_update_team_selector").value=selectedElement.getAttribute("user_team_id");"true"===selectedElement.getAttribute("user_is_captain")?document.getElementById("user_update_is_captain").checked=!0:document.getElementById("user_update_is_captain").checked=
!1;profileLink=selectedElement.getAttribute("user_profile_link");"undefined"!==profileLink?document.getElementById("user_update_profile_link").value=profileLink:document.getElementById("user_update_profile_link").value="";liveStatsLink=selectedElement.getAttribute("user_live_stats_link");"undefined"!==liveStatsLink?document.getElementById("user_update_live_stats_link").value=liveStatsLink:document.getElementById("user_update_live_stats_link").value="";userFields=document.querySelectorAll(".user_update");
for(var a=0,b;b=userFields[a];a++)showElement(b);hide("loader")}
function populateUserDelete(){show("loader");element=document.getElementById("user_delete_selector");selectedElement=element.options[element.selectedIndex];document.getElementById("user_delete_id").value=selectedElement.getAttribute("user_id");document.getElementById("user_delete_folding_name").value=selectedElement.getAttribute("user_folding_name");document.getElementById("user_delete_display_name").value=selectedElement.getAttribute("user_display_name");document.getElementById("user_delete_passkey").value=
selectedElement.getAttribute("user_passkey");document.getElementById("user_delete_category").value=selectedElement.getAttribute("user_category");document.getElementById("user_delete_hardware_selector").value=selectedElement.getAttribute("user_hardware_id");document.getElementById("user_delete_team_selector").value=selectedElement.getAttribute("user_team_id");"true"===selectedElement.getAttribute("user_is_captain")?document.getElementById("user_delete_is_captain").checked=!0:document.getElementById("user_delete_is_captain").checked=
!1;profileLink=selectedElement.getAttribute("user_profile_link");"undefined"!==profileLink?document.getElementById("user_delete_profile_link").value=profileLink:document.getElementById("user_delete_profile_link").value="";liveStatsLink=selectedElement.getAttribute("user_live_stats_link");"undefined"!==liveStatsLink?document.getElementById("user_delete_live_stats_link").value=liveStatsLink:document.getElementById("user_delete_live_stats_link").value="";userFields=document.querySelectorAll(".user_delete");
for(var a=0,b;b=userFields[a];a++)showElement(b);hide("loader")}
function populateUserOffset(){show("loader");element=document.getElementById("user_offset_selector");selectedElement=element.options[element.selectedIndex];userId=selectedElement.getAttribute("user_id");document.getElementById("user_offset_id").value=userId;document.getElementById("user_offset_folding_name").value=selectedElement.getAttribute("user_folding_name");document.getElementById("user_offset_display_name").value=selectedElement.getAttribute("user_display_name");fetch(ROOT_URL+"/stats/users/"+
userId).then(function(a){return a.json()}).then(function(a){document.getElementById("user_offset_points").value=a.multipliedPoints;document.getElementById("user_offset_units").value=a.units});userFields=document.querySelectorAll(".user_offset");for(var a=0,b;b=userFields[a];a++)showElement(b);hide("loader")}function show(a){document.getElementById(a).style.display="block"}function showElement(a){a.style.display="block"}function hide(a){document.getElementById(a).style.display="none"}
function hideElement(a){a.style.display="none"}function encode(a,b){return btoa(a+":"+b)}function getCategoryFrontend(a){return"amd_gpu"===a.toLowerCase()?"AMD GPU":"nvidia_gpu"===a.toLowerCase()?"nVidia GPU":"wildcard"===a.toLowerCase()?"Wildcard":a}function getCategoryBackend(a){return"amd gpu"===a.toLowerCase()?"amd_gpu":"nvidia gpu"===a.toLowerCase()?"nvidia_gpu":"wildcard"===a.toLowerCase()?"wildcard":a}function sortJsonByKey(a){return function(b,c){return b[a]>c[a]?1:b[a]<c[a]?-1:0}}
function localGet(a){return localStorage.getItem(a)}function localSet(a,b){localStorage.setItem(a,b)}function localContains(a){return null!==localGet(a)}function sessionGet(a){return sessionStorage.getItem(a)}function sessionSet(a,b){sessionStorage.setItem(a,b)}function sessionContains(a){return null!==sessionGet(a)}
function sortTable(a,b){var c,d,e,f,g,h,k,l=0;b=document.getElementById(b);d=!0;for(k="asc";d;){d=!1;c=b.rows;for(e=1;e<c.length-1;e++)if(h=!1,f=c[e].getElementsByTagName("TD")[a],g=c[e+1].getElementsByTagName("TD")[a],"asc"==k)if(isNaN(f.innerHTML)||isNaN(g.innerHTML)){if(f.innerHTML.toLowerCase()>g.innerHTML.toLowerCase()){h=!0;break}}else{if(parseInt(f.innerHTML)>parseInt(g.innerHTML)){h=!0;break}}else if("desc"==k)if(isNaN(f.innerHTML)||isNaN(g.innerHTML)){if(f.innerHTML.toLowerCase()<g.innerHTML.toLowerCase()){h=
!0;break}}else if(parseInt(f.innerHTML)<parseInt(g.innerHTML)){h=!0;break}h?(c[e].parentNode.insertBefore(c[e+1],c[e]),d=!0,l++):0==l&&"asc"==k&&(k="desc",d=!0)}}var NUMBER_OF_UPDATES_PROPERTY_NAME="numberOfUpdates",UPDATE_MINUTE=55;function startTimer(){calculateNumberOfUpdates();updateTimer()}
function calculateNumberOfUpdates(){var a=new Date,b=Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),1,0,UPDATE_MINUTE,0,0);seconds=Math.floor((a-b)/1E3);minutes=seconds/60;hours=Math.floor(minutes/60);localContains(NUMBER_OF_UPDATES_PROPERTY_NAME)&&(a=localGet(NUMBER_OF_UPDATES_PROPERTY_NAME),a<hours&&(a=hours-a,document.getElementById("toast-update-count-text").innerHTML=1==a?a.toLocaleString()+" update":a.toLocaleString()+" updates",showToast("toast-update",!0)));localSet(NUMBER_OF_UPDATES_PROPERTY_NAME,
hours)}function updateTimer(){var a=new Date,a=3600-(a.getUTCMinutes()-UPDATE_MINUTE)%60*60-a.getUTCSeconds();minutes=Math.floor(a/60)%60;seconds=a%60;document.getElementById("min-part").innerHTML=minutes;document.getElementById("sec-part").innerHTML=String(seconds).padStart(2,"0");0===minutes&&0===seconds&&showToast("toast-refresh",!1);setTimeout(updateTimer,1E3-(new Date).getUTCMilliseconds())}
function showToast(a,b){(new bootstrap.Toast(document.getElementById(a),{animation:!0,autohide:b,delay:3E3})).show()}function closeToast(a){(new bootstrap.Toast(document.getElementById(a))).dispose()}function successToast(a){document.getElementById("toast-success-text").innerHTML=a;showToast("toast-success",!0)}function failureToast(a){document.getElementById("toast-failure-text").innerHTML=a;showToast("toast-failure",!0)};